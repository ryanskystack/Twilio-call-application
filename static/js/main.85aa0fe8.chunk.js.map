{"version":3,"sources":["App.js","index.js"],"names":["App","useState","phone","setPhone","id","content","questions","setQuestions","response","setResponse","console","log","questionChangeHandler","event","i","parseInt","target","name","newQuestions","concat","value","className","type","placeholder","onChange","map","question","index","key","onClick","length","e","preventDefault","alert","request","phoneNumber","axios","defaults","headers","post","then","res","data","ReactDOM","render","document","getElementById"],"mappings":"sMA0HeA,EAvHH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEkBF,mBAAS,CAAC,CAAEG,GAAI,EAAGC,QAAS,MAF9C,mBAETC,EAFS,KAEEC,EAFF,OAGgBN,mBAAS,IAHzB,mBAGTO,EAHS,KAGCC,EAHD,KAIhBC,QAAQC,IAAI,aAAcL,GAE1B,IAIMM,EAAwB,SAACC,GAC7B,IAAIC,EAAIC,SAASF,EAAMG,OAAOC,MAC9BP,QAAQC,IAAI,KAAMG,GAClB,IAAII,EAAeZ,EAAUa,SAC7BD,EAAaJ,GAAGT,QAAUQ,EAAMG,OAAOI,MACvCV,QAAQC,IAAI,qBAAsBO,GAClCX,EAAaW,IA6Cf,MACe,KAAbV,EAGI,yBAAKa,UAAU,aACb,yBAAKA,UAAU,OACb,yBAAKA,UAAU,aACb,8BACE,yDACA,6BACE,6EACA,2BACEC,KAAK,OACLF,MAAOlB,EACPqB,YAAY,cACZC,SAtES,SAACX,GAC1BV,EAASU,EAAMG,OAAOI,WAuEV,4FACCd,EAAUmB,KAAI,SAACC,EAAUC,GACxB,OACE,yBAAKC,IAAKF,EAAStB,IACjB,2BACEkB,KAAK,OACLL,KAAMU,EACNC,IAAG,eAAUF,EAAStB,IACtBmB,YAAY,iBAEZH,MAAOM,EAAQ,QACfF,SAAUZ,QAKlB,4BACES,UAAU,kBACVC,KAAK,SACLO,QA7EG,SAAChB,GAClBH,QAAQC,IAAI,iBAAkBL,GAI9BI,QAAQC,IAAI,gBAAiBE,EAAMG,QAEnC,IAAIc,EAASxB,EAAUwB,OACnBZ,EAAeZ,EAAUa,OAAO,CAAEf,GAAI0B,EAAS,EAAGzB,QAAS,KAC/DK,QAAQC,IAAI,iBAAkBO,GAC9BX,EAAaW,KAgED,OAKA,4BACEG,UAAU,kBACVO,IAAI,SACJC,QAnES,SAACE,GACxBA,EAAEC,iBACuB,IAArB1B,EAAUwB,QACZG,MAAM,uCAEM,KAAV/B,GACF+B,MAAM,mCAGR,IADA,IAAIC,EAAU,CAAEC,YAAajC,GACpBY,EAAI,EAAGA,EAAIR,EAAUwB,OAAQhB,IACpCoB,EAAQpB,EAAI,GAAKR,EAAUQ,GAAGT,QAEhCK,QAAQC,IAAI,WAAYuB,GACxBE,IAAMC,SAASC,QAAQC,KAAK,+BAAiC,IAC7DH,IAAMC,SAASC,QAAQC,KAAK,gBAAkB,oCAE9CH,IAAMG,KAAK,4DAA6DL,GACrEM,MAAK,SAAAC,GACJ/B,QAAQC,IAAI8B,GACZ/B,QAAQC,IAAI8B,EAAIC,MAChB,IAAIlC,EAAWiC,EAAIC,KACnBjC,EAAYD,QA2CJ,cAYR,6BACE,2BAAIA,KC/GdmC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.85aa0fe8.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport axios from \"axios\";\n\nconst App = () => {\n  const [phone, setPhone] = useState('');\n  const [questions, setQuestions] = useState([{ id: 1, content: '' }]);\n  const [response, setResponse] = useState('');\n  console.log('questions:', questions);\n\n  const phoneChangeHandler = (event) => {\n    setPhone(event.target.value);\n  };\n\n  const questionChangeHandler = (event) => {\n    let i = parseInt(event.target.name);\n    console.log('i:', i);\n    let newQuestions = questions.concat();\n    newQuestions[i].content = event.target.value;\n    console.log('changed questions:', newQuestions);\n    setQuestions(newQuestions);\n\n  };\n\n  const addHandler = (event) => {\n    console.log('pre questions:', questions);\n    // if (questions[0].content === '') {\n    //   alert('Please at least input one question.');\n    // } else {\n    console.log('event.target:', event.target);\n\n    let length = questions.length;\n    let newQuestions = questions.concat({ id: length + 1, content: '' });\n    console.log('new questions:', newQuestions);\n    setQuestions(newQuestions);\n    // }\n\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (questions.length === 0) {\n      alert('Please at least input one question.')\n    };\n    if (phone === '') {\n      alert('Please input one mobile number.')\n    };\n    let request = { phoneNumber: phone };\n    for (let i = 0; i < questions.length; i++) {\n      request[i + 1] = questions[i].content;\n    };\n    console.log(\"request:\", request);\n    axios.defaults.headers.post['Access-Control-Allow-Origin'] = '*';\n    axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\n    axios.post('https://triggertwilio.azurewebsites.net/api/triggertwilio', request)\n      .then(res => {\n        console.log(res);\n        console.log(res.data);\n        let response = res.data;\n        setResponse(response);\n        // window.location = \"/submitted\" //This line of code will redirect you once the submission is succeed\n      })\n  };\n  \n  return (\n    response  ===''\n      ?\n      (\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-12\">\n              <form>\n                <p>Welcome to Twilio Call App</p>\n                <div>\n                  <p>Enter your mobile phone number e.g.+458694753:</p>\n                  <input\n                    type='text'\n                    value={phone}\n                    placeholder=\"Enter phone\"\n                    onChange={phoneChangeHandler} />\n                </div>\n                <p>Enter your question, click Add button to add more questions: </p>\n                {questions.map((question, index) => {\n                  return (\n                    <div key={question.id}>\n                      <input\n                        type='text'\n                        name={index}\n                        key={`input${question.id}`}\n                        placeholder=\"Enter question\"\n                        // ref={inputRefs.current[index]}\n                        value={question['content']}\n                        onChange={questionChangeHandler}\n                      />\n                    </div>\n                  )\n                })}\n                <button\n                  className=\"btn btn-default\"\n                  type='button'\n                  onClick={addHandler}\n                >Add</button>\n                <button\n                  className=\"btn btn-default\"\n                  key=\"submit\"\n                  onClick={handleFormSubmit}\n                >Submit</button>\n              </form>\n            </div>\n          </div>\n        </div>\n      )\n      :\n      (\n        < div >\n          <p>{response}</p>\n        </div >\n      )\n  );\n}\n\n\nexport default App;\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}